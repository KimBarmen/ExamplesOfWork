#pragma checksum "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "177b0409e0d7839dbd620be1e29dbf9e5e7231f7"
// <auto-generated/>
#pragma warning disable 1591
namespace ElectronBoilerplate.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using ElectronBoilerplate;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\kim.gundersen\source\Observer 2.0\Code\_Imports.razor"
using ElectronBoilerplate.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
using ElectronBoilerplate.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
using System.IO;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/settings")]
    public partial class Settings : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h3 b-pw6fwf0tyk>\r\n    Settings\r\n</h3>\r\n\r\n");
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "id", "north-component-group");
            __builder.AddAttribute(3, "b-pw6fwf0tyk");
            __builder.AddMarkupContent(4, "<label b-pw6fwf0tyk> Settings-json: </label>\r\n    ");
            __builder.OpenElement(5, "form");
            __builder.AddAttribute(6, "id", "subittFile-btn");
            __builder.AddAttribute(7, "b-pw6fwf0tyk");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputFile>(8);
            __builder.AddAttribute(9, "OnChange", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.InputFileChangeEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.InputFileChangeEventArgs>(this, 
#nullable restore
#line 14 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
                             OnInputFileChange

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(10, "\r\n    ");
            __builder.OpenElement(11, "input");
            __builder.AddAttribute(12, "value", "Load Selected");
            __builder.AddAttribute(13, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 16 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
                                           LoadSettingsFromFile

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(14, "type", "button");
            __builder.AddAttribute(15, "b-pw6fwf0tyk");
            __builder.CloseElement();
            __builder.AddMarkupContent(16, "\r\n    ");
            __builder.OpenElement(17, "input");
            __builder.AddAttribute(18, "value", "Save Update");
            __builder.AddAttribute(19, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 17 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
                                         SaveSettingsToFile

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(20, "type", "button");
            __builder.AddAttribute(21, "b-pw6fwf0tyk");
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 20 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
 if (settingsCollection == null)
{

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(22, "<p b-pw6fwf0tyk><em b-pw6fwf0tyk>Loading...</em></p>");
#nullable restore
#line 23 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
}
else
{
    //<textarea id="settings-textarea" @bind="settingsCollection.SettingJson" />


#line default
#line hidden
#nullable disable
            __builder.OpenElement(23, "table");
            __builder.AddAttribute(24, "id", "settings-table");
            __builder.AddAttribute(25, "b-pw6fwf0tyk");
            __builder.AddMarkupContent(26, "<thead b-pw6fwf0tyk><tr b-pw6fwf0tyk><th class=\"row-wide\" b-pw6fwf0tyk> Name </th>\r\n                <th class=\"row-narrow\" b-pw6fwf0tyk> Value </th>\r\n                <th class=\"row-narrow\" b-pw6fwf0tyk> Unit </th></tr></thead>\r\n        ");
            __builder.OpenElement(27, "tbody");
            __builder.AddAttribute(28, "b-pw6fwf0tyk");
#nullable restore
#line 37 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
             for (int i = 0; i < settingsCollection.SettingList.Length; i++)
            {
                var settingsValue = settingsCollection.SettingList[i];
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(29, "tr");
            __builder.AddAttribute(30, "b-pw6fwf0tyk");
            __builder.OpenElement(31, "td");
            __builder.AddAttribute(32, "b-pw6fwf0tyk");
            __builder.OpenElement(33, "input");
            __builder.AddAttribute(34, "class", ".row-wide");
            __builder.AddAttribute(35, "type", "text");
            __builder.AddAttribute(36, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 43 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
                                                                        settingsValue.Name

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(37, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => settingsValue.Name = __value, settingsValue.Name));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddAttribute(38, "b-pw6fwf0tyk");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(39, "\r\n                        ");
            __builder.OpenElement(40, "td");
            __builder.AddAttribute(41, "b-pw6fwf0tyk");
            __builder.OpenElement(42, "input");
            __builder.AddAttribute(43, "class", "row-narrow");
            __builder.AddAttribute(44, "type", "text");
            __builder.AddAttribute(45, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 46 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
                                                                         settingsValue.Value

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(46, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => settingsValue.Value = __value, settingsValue.Value));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddAttribute(47, "b-pw6fwf0tyk");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\r\n                        ");
            __builder.OpenElement(49, "td");
            __builder.AddAttribute(50, "b-pw6fwf0tyk");
            __builder.OpenElement(51, "input");
            __builder.AddAttribute(52, "class", "row-narrow");
            __builder.AddAttribute(53, "type", "text");
            __builder.AddAttribute(54, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 49 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
                                                                         settingsValue.Unit

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(55, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => settingsValue.Unit = __value, settingsValue.Unit));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddAttribute(56, "b-pw6fwf0tyk");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 52 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
                }
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(57, "\r\n    ");
            __builder.OpenElement(58, "input");
            __builder.AddAttribute(59, "type", "button");
            __builder.AddAttribute(60, "value", "+ Add New Setting");
            __builder.AddAttribute(61, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 59 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
                                                             AddNewSetting

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(62, "b-pw6fwf0tyk");
            __builder.CloseElement();
#nullable restore
#line 60 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 64 "C:\Users\kim.gundersen\source\Observer 2.0\Code\Pages\Settings.razor"
       
    private SettingsDto settingsCollection;
    IBrowserFile selectedFile;

    private void FormatTextArea()
    {

    }

    protected override async Task OnInitializedAsync()
    {
        settingsCollection = await new SettingsService().GetSettings("");
    }

    private void OnInputFileChange(InputFileChangeEventArgs e)
    {
        selectedFile = e.GetMultipleFiles().FirstOrDefault();
        this.StateHasChanged();
    }

    private async void LoadSettingsFromFile()
    {
        var fileName = selectedFile?.Name ?? settingsCollection.PathToSettingsJson;
        settingsCollection = await new SettingsService().GetSettings(fileName);
    }

    private void SaveSettingsToFile()
    {
        new SettingsService().PostSettings(
            settingsCollection,
            selectedFile?.Name ?? settingsCollection.PathToSettingsJson
        );
    }

    private void AddNewSetting()
    {
        var tmpList = settingsCollection.SettingList.ToList();
        tmpList.Add(new() { Name = "NewItem", Value = "0", Unit = "Int" });
        settingsCollection.SettingList = tmpList.ToArray();
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private SettingsService SettingsService { get; set; }
    }
}
#pragma warning restore 1591
